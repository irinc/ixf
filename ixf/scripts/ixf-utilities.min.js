/*!
 * IxF Utilities
 * @description This file is for initializing all of the IXF functionality.
 * @version     1.1.3 - 2012/5/15
 * @copyright   Copyright Â© 2012 Intellectual Reserve, Inc.
 * @URL         http://irinc.github.com/ixf
 * dependencies ixf-plugins.js
 * global       ixf,$,window
 */
function movePopup(a,b){var c=$(b.elements.target).parents(".ixf-panel");c.data("qtipClose")||c.bind("scroll",function(){$("a.active-trigger",this).each(function(){var a=$(this).offset().top-c.offset().top,b=$(this).height()/2;(a<0-b||a>c.outerHeight()-b)&&$(this).qtip("hide")})}).trigger("scroll").data("qtipClose",!0)}var ixf=ixf||{};ixf.version="1.1.3",ixf.isSetup={},ixf.browserVer=parseInt($.browser.version,10);if($.browser.msie&&(ixf.browserVer==7||ixf.browserVer==8)||$.browser.mozilla&&ixf.browserVer<4){var reg=new RegExp(/"([^"]*)"/i),url=$("html").addClass("sprite").css("background-image"),matches1=url.match(reg),sprite=new Image;matches1!=null&&matches1.length>1&&(sprite.src=matches1[1],sprite.src&&(ixf.sprite1=sprite.src,$("html").removeClass("sprite")));var url2=$("html").addClass("ui-tooltip-close").css("background-image"),matches2=url2.match(reg),sprite2=new Image;matches2!=null&&matches2.length>1&&(sprite2.src=matches2[1],sprite2.src&&(ixf.sprite2=sprite2.src,$("html").removeClass("ui-tooltip-close")))}ixf.actionBarPadding=20,ixf.panelMinHeight=200,ixf.strings={columnFilter:"Column Filter",tableFilter:"Table Filter",autocompleteLabel:"This field is an autocomplete. Start typing then press down to hear options.",columnSortAsc:"Sorting column ascending",columnSortDesc:"Sorting column descending",loaderText:"Loading",fileBrowse:"Browse...",tabError:"Couldn't load this tab."},ixf.dataTable={rows:1e3,moreRows:10,ajaxDelay:500},ixf.popup={content:{clone:!0,title:{button:!0}},position:{my:"top center",at:"bottom center",viewport:!0},show:{event:"click"},hide:{event:"click"},style:{tip:{corner:!0,width:24,height:14,mimic:"center"}},fadeTime:200},ixf.callbacks={preSetup:function(){},postSetup:function(){}},ixf.percentages={good:70,bad:30,hideNum:!1},ixf.fixSelectPadding=5,ixf.fixSelectAllowed=$.ixf.fixSelect,$.browser.msie&&ixf.fixSelectAllowed&&(ixf.browserVer===7||ixf.browserVer===8)&&(ixf.fixSelectAllowed=!1);var putHere=$("html"),curBrowser;$.browser.msie&&(curBrowser="ie",putHere.addClass("ie"+parseInt($.browser.version,10)),$(window).bind("resize",function(){$("body").height($(window).height())})),$.browser.webkit&&(curBrowser="webkit"),$.browser.mozilla&&(curBrowser="mozilla"),putHere.addClass(curBrowser),ixf.setupPanels=function(a){a=a||$("body");if($(".ui-layout-center:not(.ui-layout-pane)",a).length&&$.layout){var b=["closable","resizable","minSize","maxSize","initClosed","size"],c={defaults:{spacing_open:9,spacing_closed:9,resizeWhileDragging:!0,size:300,minSize:200,slidable:!0,slideTrigger_open:"mouseover",resizeWithWindowDelay:1,onresize:function(b){$(".ixf-actions",a).length&&$(window).trigger("resize.actionBar"),$(".ixf-fixed",a).each(function(){var a=$(this);a.data("fixHeader")&&a.fixHeader("cloneThead")}),$(".ui-layout-"+b,a).find(".ui-finder.fullwidth").finder("updateWidth")},onclose:function(b){$(".ixf-actions",a).length&&$(window).trigger("resize.actionBar")}},north:{resizerCursor:"row-resize"},south:{resizerCursor:"row-resize"},east:{resizerCursor:"col-resize"},west:{resizerCursor:"col-resize"}};c=$.extend(!0,c,ixf.layoutDefaults),$(".ui-layout-center:not(.ui-layout-pane)",a).each(function(){var a=$(this).parent(),d,e={},f=$.extend(!0,c,a.data("layout-options"));$.each(b,function(b,c){e[c]=a.data("layout-"+c)}),f.defaults=$.extend(!0,f.defaults,e),$(a).children(".ui-layout-north, .ui-layout-east, .ui-layout-west, .ui-layout-south, .ui-layout-center").each(function(){var a=$(this),c={},d=this.className.match(/ui\-layout-([a-zA-Z]*)/)[1];f[d]=$.extend(!0,f[d],a.data("layout-options")),a.data("layout-size")&&a.data("layout-size")<f.defaults.minSize&&(c.minSize=a.data("layout-size")),$.each(b,function(b,d){c[d]=a.data("layout-"+d.toLowerCase())}),f[d]=$.extend(!0,f[d],c)}),d=a.layout(f),$.each(d.resizers,function(a,b){b&&a!=="center"&&($(this).append("<div id='button-"+d.state.id+"-"+a+"'></div>"),d.addPinBtn("#button-"+d.state.id+"-"+a,a))})})}},ixf.destroyPanels=function(a){a&&a.destroy()},ixf.setupGeneral=function(container){container=container||$("body"),$.fn.jTouchScroll&&$(".ixf-panel").jTouchScroll(),ixf.fixSelectAllowed&&($.ixf.fixSelect.prototype.options.padding=ixf.fixSelectPadding,$("select:not([multiple]):not(.nofix)",container).fixSelect()),$(".ixf-button:has(.sprite)").addClass("spritefix"),$.ixf.watermark&&$("input[type=password][placeholder],input[type=text][placeholder],textarea[placeholder]",container).watermark(),$(".ixf-panel",container).attr({role:"region"}),$.ixf.masterDetail&&$(".ixf-master",container).masterDetail(),$.ixf.multiSelect&&$(".multiselect[multiple]",container).multiSelect({onAdd:function(){ixf.fixSelectAllowed&&$(this).fixSelect()},onChange:function(){ixf.fixSelectAllowed&&$(this.element).siblings("."+this.options.uniqueClass).find("select").each(function(){$(this).fixSelect("updateWidths")})},create:function(a,b){ixf.fixSelectAllowed&&$(this).siblings("."+$(this).data("multiSelect").options.uniqueClass).find("select").fixSelect("updateWidths")}}),$.ui.autocomplete&&$(".ixf-autocomplete",container).each(function(){var cur=$(this),options={},source;cur.data("ac-alternate-id")&&(options.select=function(a,b){var c=$(a.target);$("#"+$(this).data("ac-alternate-id")).val(b.item.id)}),cur.data("ac-source").match(/[\.\/]/)?source=cur.data("ac-source"):source=eval(cur.data("ac-source")),options.source=source,options=$.extend(!0,options,cur.data("ac-options")),cur.autocomplete(options)});if($.ui.tabs){function fixTabAbort(a,b){$(b.tab).data("cache.tabs",$(b.panel).html()===""?!1:!0)}$(".ixf-tabs-wrapper",container).each(function(){var a=$(this),b,c=[];taboptions={cache:!0,spinner:"",select:function(a,b){var c=$('<div class="panel-loading" id="tab-loader-'+b.index+'"><p>'+ixf.strings.loaderText+"</p><span></span></div>"),d=$(b.panel).parents(".ui-tabs"),e=d.offset().left+d.width()/2;$("body").append(c),c.css({left:e}).show()},ajaxOptions:{error:function(a,b,c,d){$(d.hash).html(ixf.strings.tabError)}},show:function(a,b){$(window).trigger("resize.actionBar"),(!$(b.tab).data("href.tabs")||$(b.panel).html().length)&&$("#tab-loader-"+b.index).remove(),ixf.a11yupdate(),$(".ixf-accordion",b.panel).accordion("resize")},load:function(a,b){fixTabAbort(a,b),$("#tab-loader-"+b.index).fadeOut(function(){$(this).remove()})}},taboptions=$.extend(!0,taboptions,a.data("tabs-options"));var d=a.tabs(taboptions);d.attr("id")&&(d.tabs({event:"change"}),d.find("ul.ui-tabs-nav a").click(function(){var a={};a[$(this).closest(".ixf-tabs-wrapper").attr("id")]=$(this).parent().prevAll().length,$.bbq.pushState(a)}),$(window).bind("hashchange.tabs",function(a){d.each(function(){var a=$.bbq.getState(this.id,!0);$(this).find("ul.ui-tabs-nav a").eq(a||0).triggerHandler("change")})}).trigger("hashchange.tabs"))})}$.ui.accordion&&$(".ixf-accordion.default",container).each(function(){var a=$(this),b={header:"h3",change:function(a,b){b.oldHeader.attr("aria-selected","false"),b.newHeader.attr("aria-selected","true")}};b=$.extend(!0,b,a.data("ac-options")),a.accordion(b).find("h3[aria-expanded=true]").attr("aria-selected","true")}),$.ui.datepicker&&$(".datepicker",container).datepicker({showButtonPanel:!0,dayNamesMin:["S","M","T","W","T","F","S"],showOn:"both",buttonText:"select date",dateFormat:"M dd, yy",showAnim:"fadeIn"}),$.ixf.timePicker&&$("input.timepicker",container).each(function(){var a=$(this),b={},c=a.data("tp-secondfield"),d=a.data("tp-starttime"),e=a.data("tp-endtime");d&&(b.startTime=d),e&&(b.endTime=e),c&&(b.secondField=c),b=$.extend(!0,b,a.data("tp-options")),a.timePicker(b)}),$("div.ixf-actions",container).each(function(){var a=$(this);if(!a.data("actionBar")){var b=$("<div class='action-placeholder'></div>").css("height",a.outerHeight()+ixf.actionBarPadding);$(a).after(b),a.data("actionBar",!0)}}),$("input[type=file]:not(.ixf-file)",container).each(function(){var a=$(this),b=$('<span class="ixf-file-fixer"></span>'),c=$('<input type="text" class="ixf-fakefile" name="" value="" id="">'),d=$('<a href="#d" class="ixf-button">'+ixf.strings.fileBrowse+"</a>");d.bind("click",function(b){return a.click(),!1}),$(this).hasClass("file-input-override")||(a.wrap(b).addClass("ixf-file").bind("change.file",function(){c.val($(this).val())}),a.after(d).after(c),c.bind("select",function(){a.trigger("select")}))}),$(".ixf-percentage",container).each(function(){if(!$(this).data("hasPercentage")){var a=$(this),b=a.text(),c=parseInt(b,10),d=$("<span class='ixf-percentage-bar'></span>"),e=$("<span class='ixf-percentage-fill'></span>"),f="neutral",g=ixf.percentages,h=g.good,i=g.bad,j="good";a.wrapInner("<span class='percentage-text'></span>"),a.data("percentage-good")&&(h=a.data("percentage-good")),a.data("percentage-bad")&&(i=a.data("percentage-bad")),a.data("percentage-hideNum")&&(g.hideNum=a.data("percentage-hideNum")),i>h&&(j="bad");if(j==="good"&&c>=h||j==="bad"&&c<=h)f="good";if(j==="good"&&c<=i||j==="bad"&&c>=i)f="bad";g.hideNum&&(a.find(".percentage-text").hide(),d.css("width","100%")),a.prepend(d),d.prepend(e).attr("title",b),e.width(b).addClass(f),a.data("hasPercentage",!0)}}),$("#a11ybuffertrick").length||$("body").append('<input type="hidden" id="a11ybuffertrick" />'),$("thead th:not([scope])",container).attr("scope","col"),setTimeout(function(){$(".ui-autocomplete-input",container).each(function(){var a=$(this),b;$("label[for="+a.attr("id")+"]").length&&(b=$("label[for="+a.attr("id")+"]")),b||(b=$("<label for='"+a.attr("id")+"'></label>"),a.before(b)),b.find("span.autocompletelabel").length||b.append('<span class="invisible autocompletelabel">'+ixf.strings.autocompleteLabel+"</span>"),ixf.a11yupdate()})},100)},ixf.setupPopups=function(a){a=a||$("body"),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),$(".ixf-popup",a).each(function(){if(!$(this).data("qtip")){var a=$(this),b=a.attr("title")?"":a.attr("title","&nbsp;"),c=a.data("pop-source"),d=c?c:a.attr("href"),e=c?c.trim().indexOf("#")===0:d.trim().indexOf("#")===0,f,g=a.closest(".ixf-panel,.ixf-panels,body"),h={content:{title:{text:a.attr("title")}},show:{effect:function(){$("html").hasClass("ie8")?$(this).show():$(this).fadeIn(ixf.popup.fadeTime,function(){this.style.filter=""})}},hide:{effect:function(){$(this).fadeOut(ixf.popup.fadeTime)}},events:{hide:function(a,b){var c=$(b.elements.target).parents(".ixf-panel");($("a.ixf-popup.active-trigger",c).length<=1||c.data("qtipCloseByScroll"))&&c.unbind("scroll.popup").data("qtipClose",!1).data("qtipCloseByScroll",!1),b.elements.target.removeClass("active-trigger")},render:function(a,b){movePopup(a,b)},show:function(a,b){b.elements.target.addClass("active-trigger"),movePopup(a,b),e&&!$.contains(this,f[0])&&(f.closest(".ui-tooltip").length&&f.closest(".ui-tooltip").qtip("hide"),b.elements.content.html("").append(f.show())),$(this).css("opacity","1")}},position:{container:g}},i={height:24,width:14},j,k={};h=$.extend(!0,h,ixf.popup),j=a.data("pop-size")?"popup-"+a.data("pop-size"):"",a.is(":input")&&(a.data("pop-method")||a.data("pop-method","focus"),a.data("pop-direction")||a.data("pop-direction","east")),a.data("pop-method")==="focus"&&(h.show.event="focus",h.hide.event="blur");if(a.data("pop-hover")||a.data("pop-method")==="hover")h=$.extend(!0,h,{show:{event:"mouseover",delay:1e3},hide:"unfocus mouseleave",events:{hide:function(a,b){$(this).is(":visible")&&!$(this).is(":animated")&&a.originalEvent.type==="mouseleave"&&a.preventDefault()}}});if(e)$(d).find(".closer").bind("click",function(){return $(this).parents(".ui-tooltip").qtip("hide"),!1}).end().hide(),f=$(d),h=$.extend(!0,h,{content:{text:function(){var a=$("<div></div>");return a.append(f.clone().show()),a.html()}},id:a.attr("id"),style:{classes:j}});else{f="";var l='<div class="loading-xl margin-sm" title="'+ixf.strings.loaderText+'"></div>';h=$.extend(!0,h,{content:{ajax:{url:a.attr("href"),once:!1,beforeSend:function(){a.qtip("option","content.text",l)}}},style:{classes:j}})}a.data("pop-close")&&(h.hide.event=a.data("pop-close"));if(a.data("pop-direction")){switch(a.data("pop-direction")){case"east":k={position:{my:"left center",at:"right center"},style:{classes:"qtip-east "+j,tip:i}};break;case"west":k={position:{my:"right center",at:"left center"},style:{classes:"qtip-west "+j,tip:i}};break;case"north":k={position:{my:"bottom center",at:"top center"},style:{classes:"qtip-north "+j}};break;case"right":k={position:{my:"top right",at:"bottom right",adjust:{x:-10}},style:{classes:"qtip-right "+j}};break;case"left":k={position:{my:"top left",at:"bottom left",adjust:{x:10}},style:{classes:"qtip-left "+j}}}h=$.extend(!0,h,k)}h=$.extend(!0,h,a.data("pop-options")),a.qtip(h),a.data("pop-hover")||a.click(function(){return!1})}})},ixf.setupDataTables=function(a){a=a||$("body"),$("table.ixf-table-default:not(.dt-setup):not(.fixHeaderApplied)",a).each(function(){$(this).addClass("dt-setup");if($(this).parents(".fixed-head").length)return;var a=$(this),b=a.attr("id"),c=ixf.dataTable.rows,d=ixf.dataTable.moreRows,e=a.find("thead:first tr:has(td)"),f=a.find("thead:first tr:has(th)"),g=a.find("tbody:first tr:first"),h=e.find("td"),i=f.find("th"),j=g.find("td"),k=!1,l,m={bAutoWidth:!1,sDom:"rt",oLanguage:{sSearch:""},fnDrawCallback:function(a){var c=a._iRecordsTotal?a._iRecordsTotal:a.aoData.length,d=a._iRecordsDisplay?a._iRecordsDisplay:a.aiDisplay.length,e=$(a.nTable).find("tbody tr:visible").length,f=a.aiDisplay.length?a.aiDisplay.length:a._iDisplayLength,g=$("#"+b+"-more"),h=$("#"+b+"-info"),i,j;g.length&&(e>=d||f>c?g.hide():g.show()),h.length&&(h.attr({"aria-live":"polite","aria-atomic":"true"}),h.find(".dt-showing").text((d?e:d)+" "),h.find(".dt-results").text(d+" ")),i=$(a.nTable).find("thead .sorting_asc a").attr("title",ixf.strings.columnSortAsc),j=$(a.nTable).find("thead .sorting_desc a").attr("title",ixf.strings.columnSortDesc),$(a.nTable).find("thead a").not(i).not(j).attr("title",""),$(a.nTable).data("skippedFirst")&&!$(a.nTable).data("gettingMore")&&$("thead",a.nTable).makeVisible({speed:0}),$(a.nTable).data("skippedFirst",!0),ixf.setup(a.nTable),$(a.nTable).data("gettingMore",!1)},fnInitComplete:function(a){var b=$(a.nTable);b.data("fixHeader")&&b.fixHeader("cloneThead");var c=a.aoPreSearchCols,d=b.find("thead input"),e=d.length>0?d:b.find("tfoot input"),f=e.parent().parent().children(),g,h;if(f.length>0&&f.length==c.length)for(var i=0;i<c.length;i++)h=c[i].sSearch,h.length>0&&(g=$(f[i]).find("input"),g.val(h))}};a.data("dt-rows")&&(c=a.data("dt-rows"),d=c),a.data("dt-rows-more")&&(d=a.data("dt-rows-more")),a.data("dt-show-filter")&&(m=$.extend(!0,m,{sDom:"f"})),a.data("dt-ajax-url")&&(m=$.extend(!0,m,{bProcessing:!0,bServerSide:!0,sAjaxSource:a.data("dt-ajax-url")}),k=!0,a.data("dt-ajax-post")&&(m=$.extend(!0,m,{fnServerData:function(a,b,c){$.ajax({dataType:"json",type:"POST",url:a,data:b,success:c})}})));var n=[],o=[],p=[],q=[];i.each(function(a){var b=$(this),c=b.index(),d=j.eq(c),f=h.eq(c),g=d.find(":input").length,i;b.data("origIndex",c);if(b.html().match(/^\s*&nbsp;\s*$|^\s$/)||b.find("input").length||b.data("dt-sort")==="no")n.push(a),b.find("a").bind("click",function(a){a.preventDefault()});b.data("dt-sort")&&b.data("dt-sort")!=="no"&&(m=$.extend(!0,m,{aaSorting:[[a,b.data("dt-sort")]]})),b.data("dt-id-col")&&(b.data("dt-hide",!0),m=$.extend(!0,m,{fnRowCallback:function(a,d,e){return $(a).attr("id",(b.data("dt-id-prefix")||"")+d[c]),a}})),b.data("dt-hide")&&q.push(a),b.data("dt-sort-type")||b.data("dt-sort-data-type")||g?(i={sType:b.data("dt-sort-type")},g&&(d.find(":checkbox").length?b.data("dt-sort-data-type","dom-checkbox"):b.data("dt-sort-data-type","dom-inputs")),b.data("dt-sort-data-type")&&(i={sSortDataType:b.data("dt-sort-data-type")}),o.push(i)):o.push(null);if(e.length){var k=f.find(":input:not(.nofilter)").val()||"";f.find(":input").is("select")?p.push({sSearch:k?"^"+k:"",bEscapeRegex:!1}):p.push({sSearch:k})}else p.push(null)}),m=$.extend(!0,m,{aoColumnDefs:[{bSortable:!1,aTargets:n},{bSearchable:!1,aTargets:n},{bVisible:!1,aTargets:q}],aoColumns:o,aoSearchCols:p,iDisplayLength:c}),a.data("dt-options")&&(m=$.extend(!0,m,a.data("dt-options"))),q.length&&i.length==e.find("td[colspan]").attr("colspan")&&(e.remove(),l=!0);var r=a.dataTable(m).addClass("dt-setup");l&&(e.attr("colspan",i.length-q.length),f.before(e)),$("tbody :input",a).live("change.dt",function(){var a=r.fnGetPosition($(this).closest("td")[0]),b=$(this).val();$(this).is(":checkbox")&&(b=this.checked===!0?"1":"0");var c=r.fnGetData(a[0]);c[a[1]]=b}),e.length&&h.length===i.length&&$("td",e).each(function(){var a=$(this),c=h.index(a),d,e,f,g;e=i.eq(c),g=e.data("origIndex"),a.find("input").length&&!a.find("input").hasClass("nofilter")&&(d=a.find("input").bind("keyup.dt",function(){var a=$(this);clearTimeout(ixf.dataTable.ajaxTimer),ixf.dataTable.ajaxTimer=setTimeout(function(){r.fnFilter(a.val(),g)},k?ixf.dataTable.ajaxDelay:0)}),d.val()&&d.data("oldVal")&&d.trigger("keyup"),d.data("oldVal",d.val())),a.find("select").length&&!a.find("select").hasClass("nofilter")&&(d=a.find("select").bind("change.dt",function(){r.fnFilter(this.value?"^"+this.value:"",g,!0,!1)}),d.val()&&d.data("oldVal")&&d.trigger("change"),d.data("oldVal",d.val())),d&&(d.attr("id")||d.attr("id","dt-"+b+"-"+Math.floor(Math.random()*1e3)),f=d.attr("id"),d.attr("title",e.find("a").text()+" "+ixf.strings.columnFilter).before('<label for="'+f+'" class="invisible">'+e.find("a").text()+" "+ixf.strings.columnFilter+"</label>"))}),$("#"+b+"-more").length&&c!==1e3&&$("#"+b+"-more").click(function(){return r.fnSettings()._iDisplayLength=parseInt(r.fnSettings()._iDisplayLength,10)+parseInt(d,10),$(r).data("gettingMore",!0),r.fnDraw(),!1}).attr("role","button"),$("#"+b+"-filter").length&&$("#"+b+"-filter").bind("keyup.dt",function(){var a=this;clearTimeout(ixf.dataTable.ajaxTimer),ixf.dataTable.ajaxTimer=setTimeout(function(){r.fnFilter(a.value)},k?ixf.dataTable.ajaxDelay:0)}).attr("title",ixf.strings.tableFilter).before('<label for="'+b+'-filter" class="invisible">'+ixf.strings.tableFilter+"</label>");if(a.data("dt-show-filter")){var s=a.siblings(".dataTables_wrapper").find("input");s.attr("id")||s.attr("id",b+"-filter"),s.attr("title",ixf.strings.tableFilter).before('<label for="'+b+'-filter" class="invisible">'+ixf.strings.tableFilter+"</label>")}a.siblings(".dataTables_processing").addClass("panel-loading").html("<p>Loading</p><span></span>").show(),a.find("thead a").bind("click.dt",function(a){a.preventDefault()})}),$.ixf.fixHeader&&!$("html").hasClass("ie7")&&$("table.ixf-fixed:not(.fixHeaderApplied)",a).fixHeader()},$.fn.dataTableExt.afnSortData["dom-inputs"]=function(a,b){var c=[];return $("td:eq("+b+") :input",a.oApi._fnGetTrNodes(a)).each(function(){var a=$(this).val();$(this).is(":checkbox")&&(a=this.checked===!0?"1":"0"),c.push(a)}),c},$.fn.dataTableExt.afnSortData["dom-checkbox"]=function(a,b){var c=[];return $("td:eq("+b+") input",a.oApi._fnGetTrNodes(a)).each(function(){c.push(this.checked===!0?"1":"0")}),c},ixf.oneTime=function(){$(window).bind("resize.setMinHeight",function(){$(".ixf-set-minheight .ui-tabs-panel").length&&$(".ixf-set-minheight").each(function(){var a=$(this).closest(".ixf-panel"),b,c=parseInt($(".ui-tabs-panel:visible:first",this).position().top,10),d=0;$(".ixf-set-minheight .ui-tabs-panel",a).css("minHeight",""),b=a.height()-$("div.action-placeholder",a).height(),a.each(function(){d+=parseInt($(this).css("paddingBottom"),10)}),$(".ixf-set-minheight .ui-tabs-panel",a).each(function(){var a=$(this).outerHeight(!0)-$(this).height();$(this).css("minHeight",b-c-a+d)})})}),$("input, textarea, select, button, a").live("focus",function(){var a=$(this).closest(".ixf-panel"),b=$("div.action-placeholder",a);b.length&&$(this).makeVisible({goNow:!0,padBottom:b.outerHeight(),includePad:!0,speed:50})}),$(".ixf-alert a.close").live("click",function(){$(this).closest(".ixf-alert").fadeOut(function(){$(this).hasClass("keep")||$(this).remove()})}),$(window).unbind("resize.actionBar").bind("resize.actionBar",function(){$(".ixf-actions").each(function(){var a=$(this),b=a.parents(".ixf-panel"),c=0,d=b[0].scrollWidth,e;e=$(window).height()-(b.offset().top+b.outerHeight()),b[0].scrollLeft=1,b[0].scrollLeft>0&&(b[0].scrollLeft=0,c=15,d=b.width()-15),a.css({width:d-(a.outerWidth(!0)-a.width()),left:b.offset().left,bottom:e+c})})}),setTimeout(function(){$(window).trigger("resize")},10),$("a").live("click.actionBar",function(){$(window).trigger("resize")})},ixf.a11yupdate=function(){$("#a11ybuffertrick").val(Date())},ixf.setup=function(a){a=a||$("body"),ixf.callbacks.preSetup(a),ixf.isSetup.oneTime||(ixf.oneTime(),ixf.isSetup.oneTime=!0),ixf.setupPanels(a),ixf.setupPopups(a),ixf.setupDataTables(a),ixf.setupGeneral(a),ixf.callbacks.postSetup(a),$(window).trigger("resize")},$(function(){!ixf.isSetup.panelResize&&$(".ixf-panels").length&&($(window).bind("resize.panels",function(){var a=parseInt($(window).height()-$(".ixf-panels").offset().top-parseInt($(".ixf-panels").css("borderBottomWidth"),10),10)-$(".ixf-smallapp-header").height();a<ixf.panelMinHeight&&(a=ixf.panelMinHeight),$(".ixf-panels").height(a);if(!$(".ui-layout-center").length){var b=$(".ixf-panels > .ixf-panel"),c=$(".ixf-panels");b.height(a-(b.innerHeight()-b.height())).width(c.width()-(b.innerWidth()-b.width()))}}).trigger("resize.panels"),$.fn.dataTableExt&&$.fn.dataTableExt.aTypes.push(function(a){return"html"}),$(window).focus(function(){$(window).trigger("resize")}),ixf.isSetup.panelResize=!0)})
